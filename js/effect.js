define(["util","e0","e1","e2","e3","e4","e5","e6","e7","e8"],function(a){function b(){q=!1,f()}function c(){localStorage.effect=m}function d(a){m=a,n=o[a]}function e(){u&&t(u),q=!0}function f(){1!=q&&(t(u),u=s(f)),n.isInit()===!1&&n.init(),n.draw()}function g(){m++,m%=o.length,d(m),a.setBg(m)}function h(){m--,-1==m&&(m=o.length-1),d(m),a.setBg(m)}function i(){j.width=window.innerWidth,j.height=window.innerHeight}var j=a.getById("visual-canvas"),k=$("#effect-list"),l="",m=0,n=null,o=[],p=0,q=!0,r=0,s=webkitRequestAnimationFrame,t=webkitCancelAnimationFrame,u=null;for(localStorage.effect&&(m=+localStorage.effect),p=1,r=arguments.length;r>p;p++)o[p-1]=arguments[p],l+='<li><img  num="'+(p-1)+'" src="img/'+o[p-1].cover+'"></li>';return k.html(l),k.on("click","li img",function(){d($(this).attr("num")),a.setBg(m)}),d(m),i(),$(window).on("resize",function(){i()}),{beginDraw:b,next:g,pre:h,saveSetting:c,stopDraw:e}});