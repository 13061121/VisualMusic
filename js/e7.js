define(["analyser","util"],function(a,b){function c(){for(o.save(),f=a.getData(),k=p,i=n.width/2,j=n.height/2,o.clearRect(0,0,n.width,n.height),o.globalCompositeOperation="lighter",o.strokeStyle=s,o.lineWidth=10,l=0,g=12;h>g;g+=2)k+=.2,o.beginPath(),o.moveTo(i+f[g]*Math.sin(k),j+f[g]*Math.cos(k)),o.lineTo(i+f[g]*Math.sin(k+r),j+f[g]*Math.cos(k+r)),o.lineTo(i+f[g]*Math.sin(k+2*r),j+f[g]*Math.cos(k+2*r)),o.closePath(),o.stroke(),l+=f[g];p=(p+1e-5*l)%q,o.restore()}function d(){b.setBg(7),initOrNot=!0}function e(){return initOrNot}var f,g,h,i,j,k,l,m="e7.jpg",n=b.getById("visual-canvas"),o=n.getContext("2d"),p=0,h=a.getFftSize()/16,q=2*Math.PI,r=q/3,s="rgba(186, 135, 72, 0.5)";return initOrNot=!1,{draw:c,init:d,isInit:e,cover:m}});